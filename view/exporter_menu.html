<!DOCTYPE html>
<html lang="en" class="full-height"  ng-app="KDM">

    <head>
        <!-- Required meta tags always come first -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Agriconnect</title>

        <!-- Font Awesome -->
        <link href="../assets/font/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">

        <!-- Bootstrap -->
        <link href="../assets/css/bootstrap.min.css" rel="stylesheet">
        <!-- Material Design for Bootstrap -->
        <link href="../assets/css/mdb.css" rel="stylesheet">
        <link href="../assets/css/style.css" rel="stylesheet">
        <link href="../assets/css/mdbDataTable.css" rel="stylesheet">
        <link href="../assets/css/mdbMain.css" rel="stylesheet">

        <!-- DataTable -->
        <link href="../assets/plugins/jquery-dataTable/dataTables.bootstrap4.min.css" rel="stylesheet">

        <!-- select 2 -->
        <link href="../assets/plugins/select2/select2.min.css" rel="stylesheet" />

        <style>
            .p-0{
                padding:0 !important;
            }
            .m-0{
                margin:0 !important;
            }
            .color-cyan{
                color: #00bcd4;
            }
        </style>
    </head>

    <body  class="fixed-sn indigo-skin" ng-controller="ExporterCtrl" ng-init="CheckCookies();">

        <!--Double navigation-->
        <div id="side_menu" ng-include="'../common/menu.html'"  ng-controller="MenuCtrl" ng-init="showMenu(); funcCheckUserRole();"></div>
        <main>
            <!-- Form contact -->
            <div class="container-fluid">
                <!-- <form name="resource_view"> -->
                    <div ng-include="'../view/common_admin_view.html'"></div>
                    <div ng-if="!check_admin" ><!-- เพิ่มเติม ng-if="!check_admin" check_admin -->
                        <!-- =========================== -->

                        <div class="tabs-wrapper">
                            <ul class="nav classic-tabs tabs-cyan" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link waves-light" ng-class="{'active':activeTab == 'tab1'}"  href="#tab1" role="tab"
                                       ng-click="funcSwitchTab('tab1'); clearData()">
                                        ข้อมูลส่วนตัว
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link waves-light" ng-class="{'active':activeTab == 'tab2'}"  href="#tab2" role="tab"
                                       ng-click="funcSwitchTab('tab2'); clearData()">
                                        ข้อมูลการส่งออก
                                    </a>
                                </li>


                            </ul>
                        </div><!-- /tabs-wrapper -->
                        <div class="tab-content card mb-5">
                            <div ng-if="activeTab == 'tab1'" class="tab-pane fade "
                                 ng-class="{'in show active':activeTab == 'tab1'}"
                                 ng-init="funcGetExporterByID();">
                                 <form name="form_profile">
                                <div class="row justify-content-md-center">
                                    <div class="col-xs-12 col-xl-10">
                                        <!--  -->
                                        <div class="md-form form-inline">
                                            <div class="form-group">
                                                <input name="is_corporate" type="radio" id="sel_minor" value="0" ng-model="user_data.is_corporate" ng-click="user_data.corporate_type_id = '1'">
                                                <label for="sel_minor">รายย่อย </label>
                                            </div>

                                            <div class="form-group" ng-if="user_role_id <= 4">
                                                <input name="is_corporate" type="radio" id="sel_corporate" value="1" ng-model="user_data.is_corporate">
                                                <label for="sel_corporate">นิติบุคคล</label>
                                            </div>

                                        </div>
                                        <!--  -->
                                        <div class="md-form form-inline" ng-show="user_data.is_corporate == '1'">
                                            <div class="form-group">
                                                <input name="sub_type" type="radio" id="company" value="1" ng-model="user_data.corporate_type_id">
                                                <label for="company">บริษัท</label>
                                            </div>

                                            <div class="form-group">
                                                <input name="sub_type" type="radio" id="cooperative" value="2" ng-model="user_data.corporate_type_id">
                                                <label for="cooperative">สหกรณ์</label>
                                            </div>
                                            <div class="form-group">
                                                <input name="sub_type" type="radio" id="community" value="3" ng-model="user_data.corporate_type_id">
                                                <label for="community">วิสาหกิจชุมชน</label>
                                            </div>
                                            <div class="form-group">
                                                <input name="sub_type" type="radio" id="other" value="4" ng-model="user_data.corporate_type_id">
                                                <label for="other">อื่นๆ</label>
                                            </div>

                                        </div>
                                        <!-- +++++++++++++ end radio button++++++++++++++++ -->
                                        <div class="mt-5" ng-switch="user_data.is_corporate">
                                            <div ng-switch-when="0">

                                                <div class="md-form">
                                                    <input type="text" class="form-control" ng-model="user_data.name" id="name" name="name" required>
                                                    <label for="tax_id" ng-class="{'active':user_data.name}">ชื่อ</label>
                                                    <small class="red-text" ng-show="form_profile.name.$error.required && hasSubmit">This field is required.</small>
                                                </div>

                                                <div class="md-form">
                                                    <input type="text" class="form-control" ng-model="user_data.surname" id="surname" name="surname" required>
                                                    <label for="tax_id" ng-class="{'active':user_data.surname}">สกุล</label>
                                                    <small class="red-text" ng-show="form_profile.surname.$error.required && hasSubmit">This field is required.</small>
                                                </div>

                                                <div class="md-form form-inline">
                                                    <div class="form-group">
                                                        <input name="type_gender" type="radio" id="sel_male" value="1" ng-model="user_data.gender_id">
                                                        <label for="sel_male">ชาย </label>
                                                    </div>
                                                    <div class="form-group">
                                                        <input name="type_gender" type="radio" id="sel_female" value="2" ng-model="user_data.gender_id">
                                                        <label for="sel_female">หญิง </label>
                                                    </div>
                                                </div>

                                                <div class="md-form" ng-if="user_role_id <= 4">
                                                    <input type="text" class="form-control" ng-model="user_data.tax_id" id="tax_id">
                                                    <label for="tax_id" ng-class="{'active':user_data.tax_id}">หมายเลขบัตรประชาชน</label>
                                                </div>

                                                <div class="md-form">
                                                    <input type="text" class="form-control" ng-model="user_data.age" empty-to-null id="age" name="age" maxlength="3" ng-pattern="/^[0-9]{1,3}$/" ng-maxlength="3">
                                                    <label for="age" ng-class="{'active': user_data.age}">อายุ</label>
                                                    <span class="red-text" ng-show=" !form_profile.age.$valid && hasSubmit">กรุณาระบุ อายุให้ถูกต้อง</span>
                                                </div>

                                                <div class="md-form">
                                                    <input type="text" class="form-control" ng-model="user_data.house_number" id="house_number" maxlength="255">
                                                    <label for="house_number" ng-class="{'active':user_data.house_number}">บ้านเลขที่</label>
                                                </div>
                                
                                                <div class="md-form">
                                                    <input type="text" class="form-control" ng-model="user_data.village" id="village" maxlength="255">
                                                    <label for="village" ng-class="{'active':user_data.village}">หมู่บ้าน</label>
                                                </div>
                                
                                                <div class="md-form">
                                                    <input type="text" class="form-control" ng-model="user_data.village_number" id="village_number" maxlength="255">
                                                    <label for="village_number" ng-class="{'active':user_data.village_number}">หมู่</label>
                                                </div>
                                
                                                <div class="md-form">
                                                    <input type="text" class="form-control" ng-model="user_data.alley" id="alley" maxlength="255">
                                                    <label for="alley" ng-class="{'active':user_data.alley}">ซอย</label>
                                                </div>

                                            </div>
                                            <!--  -->
                                            <div ng-switch-when="1">


                                                <div ng-if="user_data.corporate_type_id == '1'">
                                                    <div class="md-form">
                                                        <input type="text" class="form-control" ng-model="user_data.corp_name" id="company_name">
                                                        <label for="company_name" ng-class="{'active':user_data.corp_name}">ชื่อบริษัท</label>
                                                    </div>
                                                    <!-- + -->
                                                    <div class="md-form">
                                                        <input type="text" class="form-control" ng-model="user_data.tax_id" id="tax_id">
                                                        <label for="tax_id" ng-class="{'active':user_data.tax_id}">หมายเลขผู้เสียภาษี</label>
                                                    </div>
                                                    <!-- + -->
                                                    <div class="md-form">
                                                        <input type="text" class="form-control" ng-model="user_data.registered_capital" id="cost_regis">
                                                        <label for="cost_regis" ng-class="{'active':user_data.registered_capital}">ทุนจดลงทะเบียน</label>
                                                    </div>
                                                    <!-- + -->
                                                    <div class="md-form">
                                                        <input type="text" class="form-control" ng-model="user_data.corp_number_member" id="num_emp">
                                                        <label for="num_emp" ng-class="{'active':user_data.corp_number_member}">จำนวนพนักงาน</label>
                                                    </div>
                                                </div>
                                                <!-- ++++++ -->
                                                <div ng-if="user_data.corporate_type_id != 1">
                                                    <div class="md-form" ng-if="user_data.corporate_type_id == 2">
                                                        <input type="text" class="form-control" ng-model="user_data.corp_name" id="cooperat_name">
                                                        <label for="cooperat_name" ng-class="{'active':user_data.corp_name}">ชื่อสหกรณ์</label>
                                                    </div>
                                                    <!-- // -->
                                                    <div class="md-form" ng-if="user_data.corporate_type_id == 3">
                                                        <input type="text" class="form-control" ng-model="user_data.corp_name" id="communityEnt_name">
                                                        <label for="communityEnt_name" ng-class="{'active':user_data.corp_name}">ชื่อวิสาหกิจชุมชน</label>
                                                    </div>
                                                    <!-- // -->
                                                    <div class="md-form" ng-if="user_data.corporate_type_id == 4">
                                                        <input type="text" class="form-control" ng-model="user_data.corp_name" id="company_name">
                                                        <label for="company_name" ng-class="{'active':user_data.corp_name}">ชื่อนิติบุคคล</label>
                                                    </div>

                                                    <!-- + -->
                                                    <div class="md-form">
                                                        <input type="text" class="form-control" ng-model="user_data.corp_number" id="regis_number">
                                                        <label for="regis_number" ng-class="{'active':user_data.corp_number}">หมายเลขลงทะเบียน</label>
                                                    </div>
                                                    <!-- + -->
                                                    <div class="md-form">
                                                        <input type="text" class="form-control" ng-model="user_data.corp_number_member" id="num_member">
                                                        <label for="num_member" ng-class="{'active':user_data.corp_number_member}">จำนวนสมาชิก</label>
                                                    </div>
                                                    <!-- + -->

                                                </div>
                                                <!-- ++++++ -->

                                            </div>
                                        </div>
                                        <!-- /switch user_data.is_corporate -->
                                        <!--   PROVINCE DISTRICT SUBDISTRICT -->
                                        <div ng-include="'../view/common_address_select.html'"></div>
                                        <!--  -->
                                        <div class="md-form">
                                            <textarea class="md-textarea" ng-model="user_data.address" rows="2"></textarea>
                                            <label ng-class="{'active':user_data.address}">ที่อยู่</label>
                                        </div>

                                        <div class="md-form">
                                            <input type="text" class="form-control" ng-model="user_data.zipcode">
                                            <label ng-class="{'active':user_data.zipcode}">รหัสไปรษณีย์</label>
                                        </div>

                                        <div class="md-form">
                                            <input type="text" class="form-control" ng-model="user_data.phone" name="phone" required>
                                            <label ng-class="{'active':user_data.phone}">เบอร์โทรศัพท์</label>
                                            <small class="red-text" ng-show="form_profile.phone.$error.required && hasSubmit">This field is required.</small>
                                        </div>


                                        <div class="md-form">
                                            <input type="text" class="form-control" ng-model="user_data.email">
                                            <label ng-class="{'active':user_data.email}">อีเมล์</label>
                                        </div>

                                        <!--  -->
                                        <div class="md-form">
                                            <input type="text" class="form-control" ng-model="user_data.gps_lat" placeholder="เลื่อนมุดบนแผนที่" disabled>
                                            <label class="active">ละติจูด</label>
                                        </div>
                                        <div class="md-form">
                                            <input type="text" class="form-control" ng-model="user_data.gps_long" placeholder="เลื่อนมุดบนแผนที่" disabled>
                                            <label class="active">ลองติจูด</label>
                                        </div>
                                        <!-- ค้นหา -->

                                        <div class="row">

                                                    <!--Grid column-->
                                                    <div class="col-sm-12 col-lg-10">
                                                        <div class=" md-form form-sm mt-5">
                                                            <i class="fa fa-search prefix"></i>
                                                            <input type="text" class="form-control" ng-model="address" placeholder="กรอกจังหวัด/อำเภอ/ตำบล/ หรือ ละติจูด,ลองติจูด">
                                                            <label class="active">ค้นหาที่อยู่</label>
                                                        </div>
                                                    </div>
                                                    <!--Grid column-->

                                                    <!--Grid column-->
                                                    <div class="col-sm-12 col-lg-2 text-center">
                                                        <div class="md-form">
                                                            <div class="md-form">
                                                                <button type="button" style="margin-top: 2.5rem;" class="btn btn-primary" ng-click="search_address=address" title="ค้นหา"><i class="fa fa-search"></i></button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--Grid column-->

                                                </div>
                                        <!-- แผนที่ -->

                                        <div class="col-md-12 ">
                                            <!-- insert ใหม่ -->
                                            <ng-map ng-if="!user_data.id" zoom="13" center="{{search_address}}" center='{{[user_data.gps_lat,user_data.gps_long]}}' map-type-id="MapTypeId.ROADMAP">
                                                <marker position="{{search_address}}" on-dragend="getCurrentlocation()" animation="DROP" draggable="true" animation="Animation.BOUNCE" centered="true"></marker>
                                            </ng-map>
                                            <!-- update -->
                                            <ng-map ng-if="user_data.id" center="[{{search_address}}]" zoom="13" center='{{[user_data.gps_lat,user_data.gps_long]}}' map-type-id="MapTypeId.ROADMAP">
                                                <marker  position="{{search_address}}" position="{{[user_data.gps_lat,user_data.gps_long]}}" on-dragend="getCurrentlocation()" animation="DROP" draggable="true" animation="Animation.BOUNCE" centered="true"></marker>
                                            </ng-map>

                                            <label>{{user_data.location_remark}}</label>
                                        </div>

                                        <!--  -->


                                        <!--  -->
                                        <div class="text-center mt-3">
                                            <button ng-disabled="!!form_profile.$error.required && hasSubmit" ng-show="!user_data.id" class="btn btn-success" ng-click="funcInsertExporter(!!form_profile.$error.required);hasSubmit=true"><i class="fa fa-save ml-1"></i> บันทึก</button>
                                            <button ng-disabled="!!form_profile.$error.required && hasSubmit" ng-show="user_data.id" class="btn btn-success" ng-click="funcUpdateExporter(!!form_profile.$error.required);hasSubmit=true"><i class="fa fa-save ml-1"></i> บันทึก</button>
                                        </div>

                                    </div><!-- /col-xs-12 col-xl-10 -->
                                </div><!-- /row -->
                            </form>
                            </div><!-- /tab-pane personal Information tab1-->

                            <!-- ++++++++++++++++++++++++++++++++++++++++++++++ -->

                            <div ng-if="activeTab == 'tab2'" class="tab-pane fade "
                                 ng-class="{'in show active':activeTab == 'tab2'}"
                                 >
                                 <form name="form_export">

                                <div class="row justify-content-md-center">

                                    <div ng-if="page_tab2 == 'table'" class="col-xs-12 col-xl-12"
                                         ng-init="funcGetExportItemByID()">
                                        <a class="btn-floating btn-lg success-color pull-right" ng-show="page_tab2 == 'table'" ng-click="switchPage('form')">
                                            <i class="fa fa-plus"></i>
                                        </a>
                                        <!-- table -->
                                        <table ui-jq="dataTable" ui-options="ajaxExportOptions" class="table table-striped table-bordered table-responsive" cellspacing="0" width="100%" id="table_data_export">
                                            <thead>
                                                <tr>
                                                    <th>ผลผลิต</th>
                                                    <th>ปริมาณ</th>
                                                    <th>ราคา</th>
                                                    <th>วันที่</th>
                                                    <th></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                            </tbody>
                                        </table>
                                        <!-- /table -->

                                    </div><!-- /col-xs-12 col-xl-10 table-->

                                    <div ng-if="page_tab2 == 'form'" class="col-xs-12 col-xl-10" ng-init="funcGetProductInfo(); getCountry();funcGetManufacProductInfo();">

                                        <div class="md-form form-inline mb-5">
                                            <div class="form-group">
                                                <input name="is_product_0" type="radio" id="sel_product_0" value="0" ng-model="dataexport.is_product" ng-click="dataexport.manufacturer_product_info_id=0; dataexport.manufacturer_product_info_explanation='' ;unit_product=null">
                                                <label for="sel_product_0">ผลผลิต </label>
                                            </div>

                                            <div class="form-group" ng-if="user_role_id <= 4">
                                                <input name="is_product_1" type="radio" id="sel_product_1" value="1" ng-model="dataexport.is_product" ng-click="dataexport.product_info_id=0; dataexport.product_info_explanation=''; unit_product=null">
                                                <label for="sel_product_1">ผลิตภัณฑ์</label>
                                            </div>

                                        </div>
                                        <!-- +++++++++++++ end radio button++++++++++++++++ -->

                                        <!-- start select 2 -->
                                        <!-- for set select value -->
                                        <!-- old code -->
                                        <div class="md-form"  style="display: none;" ng-if="dataexport.is_product == '0'" ng-init="initSelect2(); findUnit(product_info,dataexport.product_info_id,'ผลผลิต'); funcGetProductInfo();">
                                            <select class="mdb-select colorful-select dropdown-primary" 
                                                    name="select_product_buying" id="select_product_buying" 
                                                    ng-model="dataexport.product_info_id" 
                                                    ng-change="findUnit(product_info,dataexport.product_info_id,'ผลผลิต');"
                                                    required>
                                                <option value="" disabled>กรุณาเลือก</option>
                                                <option ng-repeat="product in product_info" 
                                                        value="{{product.id}}" 
                                                        on-finish-render="ngRepeatFinished"
                                                        >{{product.name}}
                                                </option>
                                            </select>
                                            <label>ชื่อผลผลิต</label>
                                            <small class="red-text" ng-show="!dataexport.product_info_id && hasSubmit">This field is required.</small>
                                        </div>
                                        <!-- old code -->

                                        <!-- for show select 2 -->
                                        <label style="color: #757575; font-size: 0.8rem;" ng-hide="dataexport.is_product != '0'">ชื่อผลผลิต</label>
                                        <div class="md-form" ng-hide="dataexport.is_product != '0'" style="border-bottom: 1px solid #bdbdbd; padding-bottom: 5px; margin-bottom: 1.5rem">
                                            <select class="mdb-select-2 colorful-select dropdown-primary" id="select_product_buying_select2_show">
                                                <option value="">กรุณาเลือก</option>
                                                <option ng-repeat="product in product_info" 
                                                        value="{{product.id}}" 
                                                        on-finish-render="ngRepeatFinished"
                                                        ng-selected="product.id == dataexport.product_info_id"
                                                        >{{product.name}}
                                                </option>
                                            </select>
                                            <small class="red-text" ng-show="!dataexport.product_info_id && hasSubmit">This field is required.</small>
                                        </div>
                                        <!-- end select 2 -->

                                        <div class="md-form" ng-show="dataexport.product_info_id == '0' && dataexport.is_product == '0'">
                                            <input type="text"  name="product_info_explanation" 
                                                                id="product_info_explanation"
                                                                class="form-control" 
                                                                ng-model="dataexport.product_info_explanation" 
                                                                value="{{ dataexport.product_info_explanation }}"
                                                                ng-required="dataexport.product_info_id == '0' && dataexport.is_product == '0'">
                                            <label for="product_info_explanation" ng-class="{'active': dataexport.product_info_explanation}">
                                                ระบุชื่อผลผลิต
                                            </label>
                                            <small class="red-text" ng-show="!dataexport.product_info_explanation && hasSubmit">This field is required.</small>
                                        </div>

                                        <!-- + -->
                                        <!-- start select 2 -->
                                        <!-- for set select value -->
                                        <!-- old code -->
                                        <div class="md-form" style="display: none;" ng-if="dataexport.is_product == '1'" ng-init="initSelect2(); findUnit(manufac_product_info,dataexport.manufacturer_product_info_id,'ผลิตภัณฑ');funcGetManufacProductInfo()">
                                            <select class="mdb-select colorful-select dropdown-primary" name="select_product_fac" id="select_product_fac" required ng-model="dataexport.manufacturer_product_info_id" ng-change="findUnit(manufac_product_info,dataexport.manufacturer_product_info_id,'ผลิตภัณฑ');">
                                                <option value="" disabled>กรุณาเลือก</option>
                                                <option ng-repeat="product in manufac_product_info" value="{{product.id}}" on-finish-render="ngRepeatFinished">{{product.product_name}}</option>
                                            </select>
                                            <label>ชื่อผลิตภัณฑ์</label>
                                                <small class="red-text" ng-show="!dataexport.manufacturer_product_info_id && hasSubmit">This field is required.</small>
                                        </div>
                                        <!-- old code -->

                                        <!-- for show select 2 -->
                                        <label style="color: #757575; font-size: 0.8rem;" ng-hide="dataexport.is_product != '1'">ชื่อผลิตภัณฑ์</label>
                                        <div class="md-form" ng-hide="dataexport.is_product != '1'" style="border-bottom: 1px solid #bdbdbd; padding-bottom: 5px; margin-bottom: 1.5rem">
                                            <select class="mdb-select-2 colorful-select dropdown-primary" id="select_product_fac_select2_show">
                                                <option value="">กรุณาเลือก</option>
                                                <option ng-repeat="product in manufac_product_info" 
                                                        value="{{product.id}}" 
                                                        on-finish-render="ngRepeatFinished"
                                                        ng-selected="product.id == dataexport.manufacturer_product_info_id"
                                                        >{{product.product_name}}
                                                </option>
                                            </select>
                                            <small class="red-text" ng-show="!dataexport.manufacturer_product_info_id && hasSubmit">This field is required.</small>
                                        </div>
                                        <!-- end select 2 -->

                                        <div class="md-form" ng-show="dataexport.manufacturer_product_info_id == '0' && dataexport.is_product == '1'">
                                            <input type="text"  name="manufacturer_product_info_explanation" 
                                                                id="manufacturer_product_info_explanation"
                                                                class="form-control" 
                                                                ng-model="dataexport.manufacturer_product_info_explanation" 
                                                                value="{{ dataexport.manufacturer_product_info_explanation }}"
                                                                ng-required="dataexport.manufacturer_product_info_id == '0' && dataexport.is_product == '1'">
                                            <label for="manufacturer_product_info_explanation" ng-class="{'active': dataexport.manufacturer_product_info_explanation}">
                                                ระบุชื่อผลผลิต
                                            </label>
                                            <small class="red-text" ng-show="!dataexport.manufacturer_product_info_explanation && hasSubmit">This field is required.</small>
                                        </div>


                                        <!--  -->
                                        <div class="md-form">

                                            <input type="text" class="form-control" ng-model="dataexport.qty">
                                            <label ng-class="{'active':dataexport.qty}">ปริมาณ ({{unit_product}})</label>
                                        </div>
                                        <!--  -->
                                        <div class="md-form">
                                            <input type="text" class="form-control" ng-model="dataexport.price">
                                            <label  ng-class="{'active':dataexport.price}">ราคาที่รับซื้อ</label>
                                        </div>
                                        <!--  -->
                                        <div class="md-form">
                                            <input ng-model="dataexport.export_datetime" type="text" id="date-picker-example" class="form-control datepicker"
                                                   >
                                            <!-- data-value="2017-10-10 00:00:00" -->
                                            <label for="date-picker-example"  ng-class="{'active':dataexport.export_datetime}">วันที่ส่งออก</label>
                                        </div>
                                        <!--  -->
                                        <div class="md-form">
                                            <input type="text" class="form-control" ng-model="dataexport.transport_day">
                                            <label ng-class="{'active':dataexport.transport_day}">ระยะเวลาการขนส่ง (วัน)</label>
                                        </div>
                                        <!--  -->

                                        <p class="h5 mt-5 mb-4 color-cyan">ต้นทุน</p>

                                        <div class="md-form">
                                            <input type="text" class="form-control" ng-model="dataexport.transport_cost">
                                            <label ng-class="{'active':dataexport.transport_cost}">ค่าขนส่ง</label>
                                        </div>
                                        <!--  -->
                                        <div class="md-form">
                                            <input type="text" class="form-control" ng-model="dataexport.tax">
                                            <label ng-class="{'active':dataexport.tax}">ภาษีนำเข้า</label>
                                        </div>
                                        <!--  -->
                                        <div class="md-form">
                                            <input type="text" class="form-control" ng-model="dataexport.operation_cost">
                                            <label ng-class="{'active':dataexport.operation_cost}">ค่าติดต่อประสานงาน</label>
                                        </div>
                                        <!--  -->

                                        <p class="h5 mt-5 mb-4 color-cyan">ต้นทาง</p>
                                        <!--  -->
                                        <div class="md-form">
                                            <textarea class="md-textarea" ng-model="dataexport.source_address" rows="2"></textarea>

                                            <label ng-class="{'active':dataexport.source_address}">โกดังต้นทาง</label>
                                        </div>
                                        <!--  -->
                                        <div class="md-form">
                                            <input type="text" class="form-control" ng-model="dataexport.source_phone">
                                            <label ng-class="{'active':dataexport.source_phone}">เบอร์ติดต่อ</label>
                                        </div>
                                        <!--  -->

                                        <p class="h5 mt-5 mb-4 color-cyan">ปลายทาง</p>

                                        <div class="md-form">
                                            <input type="text" class="form-control" ng-model="dataexport.dest_name">
                                            <label ng-class="{'active':dataexport.dest_name}">ชื่อผู้ขายปลายทาง</label>
                                        </div>
                                        <!--  -->
                                        <div class="md-form">
                                            <textarea class="md-textarea" ng-model="dataexport.dest_address" rows="2"></textarea>
                                            <label ng-class="{'active':dataexport.dest_address}">ที่อยู่ผู้ขายปลายทาง</label>
                                        </div>
                                        <!--  -->
                                        <div class="md-form">
                                            <input type="text" class="form-control" ng-model="dataexport.dest_phone">
                                            <label ng-class="{'active':dataexport.dest_address}">เบอร์ติดต่อ</label>
                                        </div>
                                        <!--  -->
                                        <div class="md-form">
                                            <select class="mdb-select colorful-select dropdown-primary" name="select_country" id="select_country" required ng-model="dataexport.country_id" >
                                                <option value="" disabled>กรุณาเลือก</option>
                                                <option ng-repeat="country in countrys" value="{{country.id}}" on-finish-render="ngRepeatFinished">{{country.name}}</option>
                                            </select>

                                            <label class="">ประเทศผู้ขายปลายทาง</label>
                                            <small class="red-text" ng-show="form_export.select_country.$error.required && hasSubmit">This field is required.</small>
                                        </div>

                                        <p class="h5 mt-5 mb-4 color-cyan">ข้อมูลสิ่งที่สูญเสีย</p>
                                        <div class="md-form">
                                            <input type="text" class="form-control" ng-model="dataexport.loss_qty">
                                            <label ng-class="{'active':dataexport.loss_qty}">ปริมาณสูญเสีย</label>
                                        </div>
                                        <!--  -->
                                        <div class="md-form">
                                            <input type="text" class="form-control" ng-model="dataexport.loss_cause">
                                            <label ng-class="{'active':dataexport.loss_cause}">สาเหตุการสูญเสีย</label>
                                        </div>
                                        <!--  -->
                                        <div class="md-form">
                                            <input type="text" class="form-control" ng-model="dataexport.transport_delay_day">
                                            <label ng-class="{'active':dataexport.transport_delay_day}">ระยะเวลาดีเลย์ของการขนส่ง (วัน)</label>
                                        </div>

                                        <div class="md-form">
                                            <input type="text" class="form-control" ng-model="dataexport.hs_code">
                                            <label ng-class="{'active':dataexport.hs_code}">พิกัดภาษี</label>
                                        </div>
                                        <div class="md-form">
                                            <input type="text" class="form-control" ng-model="dataexport.warehouse_cost">
                                            <label ng-class="{'active':dataexport.warehouse_cost}">ค่าโกดัง</label>
                                        </div>

                                        <div class="text-center">
                                            <button class="btn primary-color-dark waves-effect waves-light" ng-click="switchPage('table');"><i class="fa fa-backward ml-1"></i> ย้อนกลับ</button>

                                            <button ng-disabled="!!form_export.$error.required && hasSubmit"  ng-show="!dataexport.id" class="btn btn-success" ng-click="funcInsertExportItem(!!form_export.$error.required);hasSubmit=true"><i class="fa fa-save ml-1"></i> บันทึก</button>
                                            <button ng-disabled="!!form_export.$error.required && hasSubmit"  ng-show="dataexport.id" class="btn btn-success" ng-click="funcUpdateExportItem(!!form_export.$error.required);hasSubmit=true"><i class="fa fa-save ml-1"></i> บันทึก</button>
                                        </div>
                                        <!--  -->

                                    </div><!-- /col-xs-12 col-xl-10 form-->

                                </div><!-- /row -->

                                </form>
                            </div><!-- /tab-pane Import data tab2-->
                        </div><!-- /tab-content -->
                        <!-- =========================== -->

                    </div>
                <!-- </form> -->
            </div>
            <div ng-include="'../view/common_modal_confirm_delete_v2.html'"></div>
            <!-- Modal Conferm Delete-->
            <div ng-include="'../view/common_modal_confirm_delete.html'"></div>
            <!-- ==============modal============= -->
            <div class="modal fade" id="ExportItem_detail" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <!--Content-->
                    <div class="modal-content">
                        <!--Header-->
                        <div class="modal-header">
                            <h4 class="modal-title w-100" id="myModalLabel">รายละเอียดข้อมูลส่งออก</h4>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <!--Body-->
                        <div class="modal-body p-0">
                            <!-- Nav tabs -->
                            <ul class="nav nav-tabs nav-justified indigo m-0" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" data-toggle="tab" href="#panel5" role="tab"> ผลผลิต</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-toggle="tab" href="#panel6" role="tab">ต้นทุน</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-toggle="tab" href="#panel7" role="tab"> ต้นทาง</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-toggle="tab" href="#panel8" role="tab"> ปลายทาง</a>
                                </li>

                            </ul>
                            <!-- Tab panels -->
                            <div class="tab-content">
                                <!--Panel 1-->
                                <div class="tab-pane fade in show active" id="panel5" role="tabpanel">

                                    <div class="col-sm-12">
                                        <label>ชื่อผลผลิต : {{objExport_item.product_name}}</label>
                                    </div>

                                    <div class="col-sm-12">
                                        <label>ปริมาณ: {{objExport_item.qty}}</label>
                                    </div>

                                    <div class="col-sm-12">
                                        <label>ราคาที่รับซื้อ  : {{objExport_item.price}}</label>
                                    </div>
                                    <div class="col-sm-12">

                                        <label>วันที่ส่งออก : {{objExport_item.export_datetime|limitTo:10:0}}</label>
                                    </div>
                                    <div class="col-sm-12">
                                        <label>ระยะเวลาการขนส่ง (วัน) : {{objExport_item.transport_day}}</label>
                                    </div>
                                </div>
                                <!--/.Panel 1-->
                                <!--Panel 2-->
                                <div class="tab-pane fade" id="panel6" role="tabpanel">
                                    <div class="col-sm-12">
                                        <label>ค่าขนส่ง : {{objExport_item.transport_cost}}</label>
                                    </div>

                                    <div class="col-sm-12">
                                        <label>ภาษีนำเข้า: {{objExport_item.tax}}</label>
                                    </div>

                                    <div class="col-sm-12">
                                        <label>ค่าติดต่อประสานงาน  : {{objExport_item.operation_cost}}</label>
                                    </div>
                                    <div class="col-sm-12">
                                        <label>ค่าสินค้าที่นำเข้า : {{objExport_item.product_cost}}</label>
                                    </div>
                                </div>
                                <!--/.Panel 2-->
                                <!--Panel 3-->
                                <div class="tab-pane fade" id="panel7" role="tabpanel">


                                    <div class="col-sm-12">
                                        <label>โกดังต้นทาง: {{objExport_item.source_address}}</label>
                                    </div>

                                    <div class="col-sm-12">
                                        <label>เบอร์ติดต่อ  : {{objExport_item.source_phone}}</label>
                                    </div>

                                </div>
                                <!--/.Panel 3-->
                                <!--Panel 4-->
                                <div class="tab-pane fade" id="panel8" role="tabpanel">
                                    <div class="col-sm-12">
                                        <label>ชื่อผู้ขายปลายทาง : {{objExport_item.dest_name}}</label>
                                    </div>

                                    <div class="col-sm-12">
                                        <label>ที่อยู่ผู้ขายปลายทาง: {{objExport_item.dest_address}}</label>
                                    </div>

                                    <div class="col-sm-12">
                                        <label>เบอร์ติดต่อ  : {{objExport_item.dest_phone}}</label>
                                    </div>
                                    <div class="col-sm-12">
                                        <label>ประเทศผู้ขายปลาย : {{objExport_item.country_id}}</label>
                                    </div>
                                </div>
                                <!--/.Panel 4-->
                            </div>



                        </div>
                        <!--Footer-->
                        <div class="modal-footer">
                            <button type="button" class="btn primary-color-dark" data-dismiss="modal">ปิด</button>
                        </div>
                    </div>
                    <!--/.Content-->
                </div>
            </div>
            <!-- ==============/modal============= -->

        </main>
        <!-- Form contact -->

        <!--/.Double navigation-->
        <!--Footer-->
        <footer>
        </footer>
        <!--Footer-->

        <!-- SCRIPTS -->
        <!-- jQuery -->
        <script type="text/javascript" src="../assets/js/jquery-3.2.1.min.js"></script>

        <!-- Popper -->
        <script type="text/javascript" src="../assets/js/popper.min.js"></script>

        <!-- Bootstrap -->
        <script type="text/javascript" src="../assets/js/bootstrap.min.js"></script>

        <!-- DataTable -->
        <script type="text/javascript" src="../assets/plugins/jquery-dataTable/jquery.dataTables.min.js"></script>
        <script type="text/javascript" src="../assets/plugins/jquery-dataTable/dataTables.bootstrap4.min.js"></script>

        <!-- Angular -->
        <script type="text/javascript" src="../assets/js/angular.min.js"></script>

        <!-- select 2 -->
        <script src="../assets/plugins/select2/select2.min.js"></script>

        <!-- Plugins -->
        <script type="text/javascript" src="../assets/plugins/angular-ui-bootstrap/ui-bootstrap-tpls.js"></script>
        <script type="text/javascript" src="../assets/plugins/angular-ui-utils/angular-ui-utils.min.js"></script>
        <script type="text/javascript" src="../assets/plugins/angular-cookies/angular-cookies.js"></script>
        <!-- ng-map -->
        <script type="text/javascript" src='https://maps.google.com/maps/api/js?key=AIzaSyC_IwxSuBw5e6Pr1gehAM_LVFFBUfdZHus&sensor=true&libraries=places&language=th'></script>
        <script type="text/javascript" src="../assets/node_modules/ngmap/build/scripts/ng-map.min.js"></script>
        <!-- ng-file-upload -->
        <script src="../assets/node_modules/ng-file-upload/dist/ng-file-upload-shim.min.js"></script>
        <script src="../assets/node_modules/ng-file-upload/dist/ng-file-upload.min.js"></script>
        <!-- MDB -->
        <script type="text/javascript" src="../assets/js/mdb.min.js"></script>

        <!-- App -->
        <script type="text/javascript" src="../js/core/app.js"></script>
        <script type="text/javascript" src="../js/core/util.js"></script>
        <script type="text/javascript" src="../js/common/menu.js"></script>
        <script type="text/javascript" src="../js/app/exporter_menu.js"></script>

        <script>
            // Material Select Initialization
            $(document).ready(function() {
            $("p").text('ผู้ส่งออก');
            });
            new WOW().init();
        </script>
    </body>
</html>
